### Vim 学习

#### Vim Doc

* CTRL-] 跳转到当前光标下的单词的相关主题
* CTRL-O 回跳，即返回原来位置（CTRL-T也可也）

Vim文档的大部分连接放在两根竖线之间，竖线本身可能被隐藏，若显示，则使用`set conceallevel=0`
查看Vim和Vi兼容选项是否关闭，`set compatible?`，如果报告"nocompatible"，则表示已关闭

`:scriptnames` 显示Vim相关的脚本文件  

#### 2017.06.05
1. 打开新的文档时，以`~`开头的行表示该行在文件中不存在  
2. Vim 是一个多模式的编辑器，默认是在普通模式下，不同的模式，编辑器的响应不同  
3. `set showmode` 配置该选项之后，就可以看出自己处于什么模式下  
4. `Esc` 回到普通模式，当自己不知道处于什么模式时，多按几下`Esc`就回到普通模式下了  
5. h(左)、j(下)、k(上)、l(右)，hjkl代替方向键，移动光标  
6. 普通模式下，`x` 删除光标所在的字符，按多次删除多个。  
7. 普通模式下，`dd` 删除光标所在行  
8. 普通模式下，`J` 删除换行符，即把两行连接成一行  
9. 普通模式下，`u` 撤销上一次的编辑操作  
10. 普通模式下，`CTRL-R`(redo) 撤销一个撤销，即回退前一个命令  
11. `i` 在光标所在字符的前面插入字符  
12. `I` 在光标所在行的行首(第一个非空字符前)入字符  
13. `a` 在光标所在字符的后面插入字符  
14. `A` 在光标所在行的行尾部添加字符  
15. `o` 在光标所在行的下面打开一新行  
16. `O` 在光标所在行的上面打开一新行  
17. 指定计数，所有的命令前均可添加数字，如：`9k` 代表向上移动9行  

普通模式下：`ZZ` 保存并退出  
末行命令模式下：`x` 保存并退出  
末行命令模式下：`w` 保存不退出  
末行命令模式下：`wq` 保存并退出  
末行命令模式下：`q!` 放弃修改  
末行命令模式下：`e!` 放弃修改，重新编辑，即回到最后一个修改的情况下  

查看帮助：

This is a test/tester/tes
**2017.06.12**   
8. 简单查找  
`/string` 输入 `/` 光标定位到 Vim 窗口最后一行，输入要查找的字符串回车即可。  
    备注：`.*[]^%/\?~$` 有特殊意义，如要查找它们，需在前面添加斜杠转义。  
        输入 `/` 可使用上下左右键查找历史记录  
`n` 表示查找下一个。  
`N` 表示查找上一个。  
`?string` 与 `/string` 相反。  
`*` 查找整个单词  
`set ignorecase` 忽略大小写  
`set hlsearch` 高亮显示匹配的字符串  
`set incsearch` 在输入字符的过程中就显示匹配点。  
`set nowrapscan` 找到文件尾部时，停止查找  
9. 命令行命令
`:r filename` 把文件名称尾filename的内容插入到当前行的下一行。  
`:r! command` 把command返回的结果插入到当前行的下一行。  
`:%s= *$==`   将所有行尾多余的空格删除。  
`:g/^$/d`     这里的g表示对文章中所有符合要求字符串执行替换操作，^表示行首，$表示行尾，即，将所有的空行都删除掉。  
`g~~`         当前行大小写转换。  
10. 单词自动补全   
`Ctrl-n` 插入模式下，Ctrl-n，自动出现下拉菜单，默认选择第一个，继续Ctrl-n，或者 Ctrl-p可以上下切换。  
`Ctrl-p` 同上，只不过默认选择最后一个。  
11. 行自动补全  
`CTRL+x CTRL+l` (l指小写的L )：两个命令组合使用。在插入模式下输入已经存在行的第一个单词，再按这两个键，就会列出该整行出来  
12. 文件名自动补全  
`CTRL+x CTRL+f` 插入模式下，按这两个组合键，可以插入当前目录下的文件名。  

**2017.06.13**  
可是模式下可以进行如下操作：  
1. `J` 把所有行连接起来，变成一行。  
2. `<`或者`>` 左右缩进。  
3. `=` 自动给出缩进，功能非常强大。  
区域选择`<action>a<object>`或者`<action>i<object>`  
* action 可以是任何命令，d(删除)、y(复制)、v(可视模式)。
* object 可以是任何命令，w(单词)、W(空格分割的单词)、s(一个句子)、p(一个段落)，或者是一些特殊的字符，"、'、)、]、}等。

**2017.06.20** 
前面学习了如何使用Vim快速移动，这主要目的就是为了快速找到目标，然后对其进行编辑操作，编辑包括：复制、修改、删除

This is-a test sitence

操作符-动作 `d`
`dw` 表示删除一个单词，`w` 是移动命令，实际上，`d` 命令后面可以跟
任何"动作" 命令，表示删除从光标到目标位置的全部内容。

操作符前后均可添加数字前缀。
`d4w` 表示删除4个单词。
执行完成操作符之后，Vim还是处于普通模式下。

操作符-动作  `c`
操作符 `c` 的使用情况同操作符 `d`，却别就是 c 命令执行完之后进入插入模式，而 d
还是处于普通模式。

操作符-动作  `y`
该操作符主要是完成将选中的字符拷贝到寄存器中，再结合 "p"
命令完成文本的拷贝功能。
"yw" 命令包括单词后面的空白字符，如果不想要这个字符，可使用 "ye" 即可。
"yy" 拷贝一整行，同 "Y"

操作符-动作 命令由于经常被使用，所以有些就直接映射为单字符命令了。如下：

x 表示 dl （删除当前光标下的字符）
X 表示 dh （删除光标左边的字符）
D 表示 d$ （删除光标到行尾）
C 表示 c$ （修改到行尾）
s 表示 cl （修改单个字符）
S 表示 cc （修改一整行）
dd 表示删除一行
cc 表示修改一行
yy 表示拷贝一行
Y  表示拷贝一行

替换命令 `r`
`r` 不是操作符，它是等你输入一个字符，然后用这个字符替换当前光标上的字符。
其作用和"cl"或者"s"命令完成相同的功能，只不过r不需要使用<Esc>退出插入状态。
替换模式 `R`
"R"
命令启动替换模式，在这个模式下，你输入的每个字符都会覆盖当前光标上的字符，这样会一直持续下去
直到输入 <Esc> 命令。
当使用<BS>
退格键进行修复时，原理被替换的字符又回来了，就好像使用了一个"撤销"命令一样。
可以使用 <Insert> 在插入模式和替换模式下切换。


重复一个修改。
"." 是 Vim 中一个非常简单而有用的命令。它会重复最后一次的修改操作。
"." 命令重复任何除 "u"，"Ctrl-R"和冒号命令外的修改。


可视模式  
要删除一些简单的东西，用"操作符-动作" 命令可以完成的很好，但是很多情况下
并不容易确定什么命令可以移到你想修改的地方。此时，你就需要可视模式了。
"v"
命令启动可视模式。你可以移动光标到指定的地方，选中的文本会高亮显示，最后执行一下操作符命令即可。
<Esc> 命令即可退出可视模式。
"V" 命令来启动行可视模式。此时，左右移动无任何效果，上下移动时，可选择多行。
"Ctrl-V" 命令来启动列可视模式。此时可以选择一些矩形块的内容。

移动到另一端
在可视模式下，发现要修改的文本在被选中文本的另一端，此时就需要在不改变可视模式的前提下，移动到令一端。
"o"（o表示 other end） 命令即可使光标从一端移动到令一端来回切换。
在列块可视模式下，此时会有4个角，"o" 使得光标在对角上来回切换，而 "O"
命令则使光标在同一行的两个角上来回切换。


文本对象
如果光标在一个单词的中间，而你又想删除该单词，根据之前所学知识，只能先用 "b"
将光标移动到该单词的开始处，然后再执行 "dw" 命令。这里有一个更简单的方法，"daw"
"d" 是删除操作符，"aw" 是一个文本对象。
使用文本对象是Vim 中执行修改的第三种方法，第一种是
"操作符-动作"，第二种是可视模式。第三种就是"操作符-文本对象"
这种方法与"操作符-动作"很相似，但是它不是操作于从当前位置移动到指定位置，而是对光标
所在位置的 "文本对象" 进行操作，文本对象是作为整体来处理的，与光标所处的位置无关。

区域选择<action>a<object>或者<action>i<object>
action 可以是任何命令，d(删除)、y(复制)、v(可视模式)。
object 可以是任何命令，w(单词)、W(空格分割的单词)、s(一个句子)、p(一个段落)，或者是一些特殊的字符，"、'、)、]、}等。


**2017.07.04**  
Vim 的高亮显示以及快捷键等配置，可以通过实时设置实现，但是由于设置的内容太多，可能比较浪费时间，一些比较固定的配置，完全可以写到配置文件中，使其在启动Vim的时候就生效。   
在Linux系统中，一般配置文件有两个位置，`/etc/vimrc` 和 `~/.vimrc` 一看这两个文件大家应该就明白什么意思了，`/etc/vimrc` 属于全局的配置，对任何Linux 用户均起作用，`~/.vimrc` 是针对某个特定用户起作用。  

" 解除Vi和Vim的不兼容性，完全使用Vim的工作方式  
set nocompatible 

"插入模式下哪些地方允许使用&lt;BS&gt;删除光标前面的字符。  
" indent 行首的空白字符   
" eol    换行符  
" start  插入模式开始处之前的字符  
set backspace=indent,eol,start

" 启动新行时，与前一行一样的缩进，启动新行是指使用 &lt;Enter&gt;，或者普通模式下执行 `O` 命令  
set autoindent


" 保存 50 个命令和 50 个查找模式的历史  
set history=50

" 在 Vim 窗口的右下角显示当前光标位置  
set ruler


" 在 Vim 窗口右下角，标尺的右边显示未完成的命令。   
" 例如，当你输入 "2f"，Vim 在等你输入要查找的字符并且显示 "2f"。当你再输入 w，"2fw" 命令被执行，"2f" 自动消失。   
set showcmd


" 在输入部分查找模式时显示相应的匹配点。  
set incsearch
" 高亮显示匹配到的字符串  
set hlsearch 

" 激活语法高亮  
syntax on






